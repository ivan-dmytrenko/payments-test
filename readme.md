Test

Запуск
- Для запуска необходимо наличие Docker.
- Осуществите запуск с помощью bash скрипта ./dockerfiles/bin/run.sh (От запуска до работоспособного состояния понадобиться определенное время)
- Проект буде доступен по адресу http://localhost:8081


POST  /api/v1/users
Создание пользователя (кошелька)
При развертывании проекта в систему вносится тестовый пользователь

| Request parameter | Required | Meaning               |
| :-----------      |:-------: | :-------------------- |
| name              | Yes      | имя юзера (кошелька) должно быть уникальным         |
| currency_code             | Yes      | код валюты, принимаються только те коды которые уже есть в системе.        |
| country           | Yes      | название страны |
| city        | Yes      | название города   |


	
Example: 
```json
{
	"name": "Ivan",
	"currency_code": "USD",
	"country": "Germany",
	"city": "Berlin"
}
```

POST  /api/v1/currencyExchangeRates
Запись котировки на дату, если котировка на определенную дату уже существует, то перезаписать ее невозможно, для этого необходимо реализовать endpoint для обновления
При записи котировки к валюте которой не было в системе - создаться новая валюта
При развертывании проекта в систему вносятся котировки на текущий день для ряда валют

| Request parameter | Required | Meaning               |
| :-----------      |:-------: | :-------------------- |
| rate              | Yes      | Курс валюты к USD         |
| date             | Yes      | Дата установки котировки        |
| currency_code           | Yes      | Код валюты |


	
Example: 
```json
{
	"rate": 3.04,
	"date": "2018-06-07",
	"currency_code": "EUR"
}
```

PUT  /api/v1/users
Занесение денег на счет пользователя

| Request parameter | Required | Meaning               |
| :-----------      |:-------: | :-------------------- |
| name             | Yes      | Имя (кошелек) существующий в системе        |
| amount             | Yes      | Сумма депозита        |


	
Example: 
```json
{
	"name": "Test",
	"amount": "100"
}
```

POST  /api/v1/transactions
Отправка платежей между пользователями
При развертывании проекта в систему вноситься ряд транзакций для тестового пользователя

| Request parameter | Required | Meaning               |
| :-----------      |:-------: | :-------------------- |
| name_from              | Yes      | Имя отправителя существующего в системе         |
| name_to             | Yes      | Имя получателя существующего в системе        |
| amount           | Yes      | Сумма платежа |
| currency_code        | Yes      | Код валюты платежа   |


	
Example: 
```json
{
	"name_from": "Test",
	"name_to": "Ivan",
	"amount": 10,
	"currency_code": "USD"
}
```

Страница отчета находится по адресу http://localhost:8081/report

При реализации использовались Laravel, PostgreSQL, RabbitMQ

- Остаток средств на кошельке не хранится напрямую. Вместо этого хранится история всех транзакций в системе и 
когда нужно получить остаток на определенном кошельке - из этой истории транзакций вычисляется остаток. 
При таком подходе имеется большой простор для оптимизаций, потому что история может быть очень длинной. 
Сами транзакции содержат всю необходимую информацию: кошельки, валюты, суммы, типы транзакций.

- Сам перевод всегда осуществляется в несколько этапов (деньги заплачены, потом конвертация, потом наконец получение) и может занимать продолжительное время.